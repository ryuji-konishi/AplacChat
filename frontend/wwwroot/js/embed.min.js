var init=function(n,t){var i=n.find("#chat-input");i.keypress(function(r){var u=r.keyCode?r.keyCode:r.which,f;if(u!=8&&(!(33<=u)||!(u<=40))){f=i.val();switch(u){case 13:r.preventDefault();submitChat(n,t)}}});i.focus()},submitChat=function(n,t){var r=n.find("#chat-input"),i=r.val();(i=i.trim(),i!="")&&(r.attr("placeholder",""),showBusyImage(n),$.ajax({url:"http://localhost:5000/infer",type:"POST",dataType:"json",contentType:"text/plain",data:i,success:function(i){i!=null?(hideMessage(n),r.val(""),populateList(t,i)):showMessage(n,"<strong>Sorry!<\/strong> Internal error happened.");hideBusyImage(n)},error:function(){showMessage(n,"<strong>Sorry!<\/strong> Internal error happened.");hideBusyImage(n)}}))},populateList=function(n,t){var r=n.find("tbody"),u=r.html(),i="";i+="<tr>";i+="<td><blockquote>"+t+"<\/blockquote><\/td>";i+="<\/tr>";r.html(i+u)},showMessage=function(n,t){n.find("#show-message").show().html("<p><b>"+t+"<\/b><\/p>")},hideMessage=function(n){n.find("#show-message").hide()},showBusyImage=function(n){n.find("#chat-input").addClass("chat-input-busy")},hideBusyImage=function(n){n.find("#chat-input").removeClass("chat-input-busy")};