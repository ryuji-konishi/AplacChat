# Application Configuration
You need different configuration whether you are debugging locally or the package is deployed on producion. In APLaC Chat front-end, it is done by environment variables.

## Local Debug
If you use Visual Studio Code for debugging, the environment variables are set by VSC and those values are stored in `.vscode/launch.json` file. This file is not included in the git repository so you need to add it your self. Usually it is auto-generated by VSC when you open the project folder and start debug session.

To set the environment variables, add values in the `env` element like below.
```
  "env": {
    "ASPNETCORE_ENVIRONMENT": "Development",
    "ASPNETCORE_URLS": "http://localhost:5051",
    "CHAT_EMBED_URL": "http://localhost:5051/Embed/Index",
    "CHAT_INFER_URL": "http://localhost:5000/infer"
  },
```

## Production
On the production Linux machine, the environment variables are set in ```frontend.env``` for example:
```
ASPNETCORE_URLS=http://localhost:5051
CHAT_EMBED_URL=http://your_public_dnsname_here/Embed/Index
CHAT_INFER_URL=http://your_public_dnsname_here/infer
CONNECTION_APPDB="Data Source=file:/home/aplac/aplac/aplacchat.db"
```

## Variable Details
### Variables Specific to APLaC-Chat
There are following environment variables that are specific to APLaC Chat front-end application.
* CHAT_EMBED_URL - The URL which points to the chat frame page that is designed to be embedded into the parent page using iframe HTML tag.
* CHAT_INFER_URL - The URL which plays a role of APLaC Chat inference API. This URL receives POST requests with text, and returns the resulted text which is the result of NMT Inference.
* CONNECTION_APPDB - The DB connection string to access to the application DB.
  * For MySQL (MariaDB), it would be like "server=localhost;database=aplacchat;userid=apps;password=yourpassword;"
  * For SQLite, it would be like "Data Source=file:/home/aplac/aplac/aplacchat.db"

### Variables for OAuth Credentials
** As of Mar.2018 this is disabled. This document section is left as a note.**

The APLaC-Chat frontend component has a user authentication feature with various OAuth providers like Facebook, Twitter, Google and Microsoft. The followings are the credential values used to carry out authentication procedures.

* Authentication_Google_ClientId
* Authentication_Google_ClientSecret
* Authentication_Facebook_AppID
* Authentication_Facebook_AppSecret

Refer to [this page](https://docs.microsoft.com/en-us/aspnet/core/security/authentication/social/?view=aspnetcore-2.1) about how to integrate .NET Core with external OAuth providers.

### Variables used by .NET Core
The followings also need an attension when you run .NET Core application.

* ASPNETCORE_ENVIRONMENT - This value is set to "Development" during debugging. On production this value is not set so that it becomes productions.
* ASPNETCORE_URLS - This is the URL that ASP.NET Core application is hosted.


